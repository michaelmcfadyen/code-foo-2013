import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

public class LetterSwap {
	private static char[] alphabet = { 'a', 'b', 'c', 'd', 'e', 'f', 'g',
											'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',
											'u', 'v', 'w', 'x', 'y', 'z' };
	ArrayList<String> dictionary;
	String start;
	String end;
	ArrayList<String> path;

	public void swap() throws FileNotFoundException{

		File file = new File(System.getProperty("user.dir")+"/three-letter-words.txt");
		Scanner lineScanner = new Scanner(file);
		dictionary = new ArrayList<String>();
		while(lineScanner.hasNextLine()){
			dictionary.add(lineScanner.next().toLowerCase());
		}

		//get two words from user
		//check if they are in dictionary
		String start = "cat";
		this.start = start;
		String end = "jig";
		this.end = end;
		
		ArrayList<String> stages= findPath(start, end);
		
		for(String s : stages){
			if(s != null)
				System.out.printf("%s -> ", s);
		}
	}	
	public ArrayList<String> findPath(String start, String end){
		char[] array = start.toCharArray();
		ArrayList<String> stages = new ArrayList<String>();
		stages.add(start);
		int mismatch = 0;
		
		System.out.println("Change "+start + " to " + end);

		for(int i = 0 ; i < start.length(); i++){
			for(int j = 0; j < start.length(); j++){
				if(array[j] != end.charAt(j)){
					array[j] = end.charAt(j);
					System.out.println("test word: " + new String(array));
					if(dictionary.contains(new String(array))){
						mismatch++;
						stages.add(new String(array));
						System.out.println(stages.get(i+1));
					}
					else
						array[i] = start.charAt(i);
				}
			}
		}
		if(new String(array).compareTo(end) == 0){
			System.out.println("Failed");
			stages.addAll(changeLetter(array, end));
		}
		else
			System.out.println("Success");
		return stages;
	}
	
	public ArrayList<String> changeLetter(char[] array, String end){
		int smallest = Integer.MAX_VALUE;
		ArrayList<String> shortestPath = new ArrayList<String>();
		
		for(int i = 0 ; i < array.length; i++){
			if(array[i] != end.charAt(i)){
				for(char c: alphabet){
					array[i] = c;
					if(dictionary.contains(new String(array))){
						ArrayList<String> temp = findPath(new String(array),end);
						if(temp.size() < smallest){
							shortestPath = temp;
						}
					}
					else
						array[i] = start.charAt(i);
					}
			}
		}
		return shortestPath;	
	}

	public static void main(String args[]) throws FileNotFoundException{
		LetterSwap s = new LetterSwap();
		s.swap();

	}
}